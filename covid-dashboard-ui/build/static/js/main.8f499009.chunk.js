(this["webpackJsonpcovid-dashboard-ui"]=this["webpackJsonpcovid-dashboard-ui"]||[]).push([[0],{64:function(e,t,n){e.exports=n(77)},69:function(e,t,n){},70:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(11),r=n.n(i),c=(n(69),n(70),n(17)),s=n(18),l=n(36),d=n(23),u=n(24),h=n(127),m=n(129),f=new(n(48).Dispatcher);function p(e){return e.user_records.map((function(e){return{id:e.id,country:e.country,total:e.confirmed,active:e.active,deaths:e.deaths,recovered:e.recovered}}))}var v=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).state={options:[]},o.onRegionSelect=o.onRegionSelect.bind(Object(l.a)(o)),o}return Object(s.a)(n,[{key:"componentWillMount",value:function(){var e=this;fetch("http://192.168.0.14:5000/countries").then((function(e){return e.json()})).then((function(t){e.setState({options:t.countries})})).catch((function(e){alert("no data found")}))}},{key:"onRegionSelect",value:function(e,t){var n;t&&(n=t,f.dispatch({region:n,type:"addRegion"}),fetch("http://192.168.0.14:5000/record",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){f.dispatch({records:p(e),type:"showRecords"})})).catch((function(e){alert("no data found")})))}},{key:"render",value:function(){return a.a.createElement(m.a,{id:"combo-box-demo",options:this.state.options,onChange:this.onRegionSelect,getOptionLabel:function(e){return e.name},style:{width:300},renderInput:function(e){return a.a.createElement(h.a,Object.assign({},e,{label:"Select Region",variant:"outlined"}))}})}}]),n}(a.a.Component),g=n(34),b=n(119),y=n(132),R=n(117),k=Object(b.a)((function(e){return{root:{display:"flex",justifyContent:"center",flexWrap:"wrap",padding:e.spacing(.5)},chip:{margin:e.spacing(.5)}}}));function E(e){console.log(e);var t=k(),n=a.a.useState(e.chips),o=Object(g.a)(n,2),i=o[0],r=o[1],c=function(e){return function(){var t,n;t=e,fetch("http://192.168.0.14:5000/remove-record",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){f.dispatch({records:p(e),type:"showRecords"})})).catch((function(e){alert("no data found")})),n=e,f.dispatch({chipToDelete:n,type:"removeChip"}),r((function(t){return t.filter((function(t){return t.id!==e.id}))}))}};return a.a.createElement(R.a,{className:t.root},i.map((function(e){return a.a.createElement(y.a,{key:e.id,icon:void 0,label:e.name,onDelete:"Global"===e.name?void 0:c(e),className:t.chip})})))}var j=new(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).records=[],e.selectedRegions=[{id:0,name:"Global"}],e}return Object(s.a)(n,[{key:"handleAction",value:function(e){switch(e.type){case"addRegion":this.addNewRegion(e.region),this.emit("region-added");break;case"showRecords":this.showRecords(e.records),this.emit("show-records");break;case"removeChip":this.removeChip(e.chipToDelete),this.emit("chip-deleted")}}},{key:"removeChip",value:function(e){this.selectedRegions=this.selectedRegions.filter((function(t){return t.name!==e.name}))}},{key:"showRecords",value:function(e){this.records=e}},{key:"addNewRegion",value:function(e){this.selectedRegions.push(e)}},{key:"getSelectedRegions",value:function(){return this.selectedRegions}},{key:"getRecords",value:function(){return this.records}}]),n}(n(51).EventEmitter));f.register(j.handleAction.bind(j));var w=j,O=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={selectedRegions:w.getSelectedRegions()},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){w.on("region-added",this.addRegion.bind(this)),w.on("chip-deleted",this.removeChip.bind(this))}},{key:"componentWillUnmount",value:function(){w.removeListener("region-added",this.addRegion.bind(this)),w.removeListener("chip-deleted",this.removeChip.bind(this))}},{key:"removeChip",value:function(){this.setState({selectedRegions:w.getSelectedRegions()})}},{key:"addRegion",value:function(){this.setState({selectedRegions:w.getSelectedRegions()})}},{key:"render",value:function(){return a.a.createElement(E,{chips:this.state.selectedRegions})}}]),n}(a.a.Component),S=n(121),C=n(125),W=n(124),x=n(120),N=n(122),D=n(123),T=[{id:"country",label:"Country",minWidth:"20%"},{id:"total",label:"Total",minWidth:"20%"},{id:"active",label:"Active",minWidth:"20%"},{id:"deaths",label:"Deaths",minWidth:"20%"},{id:"recovered",label:"Recovered",minWidth:"20%"}],M=Object(b.a)({root:{width:"100%"},container:{maxHeight:440}});function A(e){var t=M(),n=a.a.useState(0),o=Object(g.a)(n,1)[0],i=a.a.useState(10),r=Object(g.a)(i,1)[0];return a.a.createElement(R.a,{className:t.root},a.a.createElement(x.a,{className:t.container},a.a.createElement(S.a,{stickyHeader:!0,"aria-label":"sticky table"},a.a.createElement(N.a,null,a.a.createElement(D.a,null,T.map((function(e){return a.a.createElement(W.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),a.a.createElement(C.a,null,e.rows.slice(o*r,o*r+r).map((function(e){return a.a.createElement(D.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.id},T.map((function(t){var n=e[t.id];return a.a.createElement(W.a,{key:t.id,align:t.align},t.format&&"number"===typeof n?t.format(n):n)})))}))))))}var J=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).state={records:w.getRecords()},o}return Object(s.a)(n,[{key:"UNSAFE_componentWillMount",value:function(){fetch("http://192.168.0.14:5000/user-records").then((function(e){return e.json()})).then((function(e){f.dispatch({records:p(e),type:"showRecords"})})).catch((function(e){alert("no data found")})),this.showRecords()}},{key:"componentDidMount",value:function(){w.on("show-records",this.showRecords.bind(this))}},{key:"componentWillUnmount",value:function(){w.removeListener("show-records",this.showRecords.bind(this))}},{key:"showRecords",value:function(){this.setState({records:w.getRecords()})}},{key:"render",value:function(){return a.a.createElement(A,{rows:this.state.records})}}]),n}(a.a.Component),L=n(128),I=n(126);function U(){return a.a.createElement(I.a,{maxWidth:"md"},a.a.createElement("div",{style:{width:"100%"}},a.a.createElement(L.a,{display:"flex",justifyContent:"center",m:1,p:1,bgcolor:"background.paper"},a.a.createElement(L.a,{p:1,bgcolor:"grey.300"},a.a.createElement(v,null))),a.a.createElement(L.a,{display:"flex",justifyContent:"center",m:1,p:1,bgcolor:"background.paper"},a.a.createElement(L.a,{p:1,bgcolor:"grey.300"},a.a.createElement(O,null))),a.a.createElement(L.a,{display:"flex",justifyContent:"center",m:1,p:1,bgcolor:"background.paper"},a.a.createElement(L.a,{p:1,bgcolor:"grey.300"},a.a.createElement(J,null)))))}var B=function(){return a.a.createElement("div",{className:"main"},a.a.createElement(U,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[64,1,2]]]);
//# sourceMappingURL=main.8f499009.chunk.js.map